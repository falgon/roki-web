"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vitest_1=require("vitest");require("../components"),(0,vitest_1.describe)("components.ts",()=>{(0,vitest_1.beforeEach)(()=>{document.body.innerHTML="",vitest_1.vi.clearAllMocks(),String.prototype.format=void 0}),(0,vitest_1.describe)("setupNavBar",()=>{(0,vitest_1.it)("toggles is-active class on burger and target when clicked",()=>{document.body.innerHTML='\n                <div class="navbar-burger" data-target="test-menu"></div>\n                <div id="test-menu"></div>\n            ',setupNavBar();const t=document.querySelector(".navbar-burger"),e=document.getElementById("test-menu");(0,vitest_1.expect)(t?.classList.contains("is-active")).toBe(!1),(0,vitest_1.expect)(e?.classList.contains("is-active")).toBe(!1),t.click(),(0,vitest_1.expect)(t?.classList.contains("is-active")).toBe(!0),(0,vitest_1.expect)(e?.classList.contains("is-active")).toBe(!0),t.click(),(0,vitest_1.expect)(t?.classList.contains("is-active")).toBe(!1),(0,vitest_1.expect)(e?.classList.contains("is-active")).toBe(!1)}),(0,vitest_1.it)("handles multiple navbar burgers",()=>{document.body.innerHTML='\n                <div class="navbar-burger" data-target="menu1"></div>\n                <div class="navbar-burger" data-target="menu2"></div>\n                <div id="menu1"></div>\n                <div id="menu2"></div>\n            ',setupNavBar();const[t,e]=document.querySelectorAll(".navbar-burger"),i=document.getElementById("menu1"),s=document.getElementById("menu2");t.click(),(0,vitest_1.expect)(t?.classList.contains("is-active")).toBe(!0),(0,vitest_1.expect)(i?.classList.contains("is-active")).toBe(!0),e.click(),(0,vitest_1.expect)(e?.classList.contains("is-active")).toBe(!0),(0,vitest_1.expect)(s?.classList.contains("is-active")).toBe(!0)}),(0,vitest_1.it)("does nothing when target is not found",()=>{document.body.innerHTML='\n                <div class="navbar-burger" data-target="nonexistent"></div>\n            ',setupNavBar();const t=document.querySelector(".navbar-burger");(0,vitest_1.expect)(()=>t.click()).not.toThrow()}),(0,vitest_1.it)("does nothing when no navbar burgers exist",()=>{document.body.innerHTML="<div></div>",(0,vitest_1.expect)(()=>setupNavBar()).not.toThrow()})}),(0,vitest_1.describe)("setupModal",()=>{(0,vitest_1.it)("opens modal when modal-target is clicked",()=>{document.body.innerHTML='\n                <div class="modal-target" data-target="test-modal"></div>\n                <div id="test-modal" class="modal"></div>\n            ',setupModal();const t=document.querySelector(".modal-target"),e=document.getElementById("test-modal");(0,vitest_1.expect)(e?.classList.contains("is-active")).toBe(!1),t.click(),(0,vitest_1.expect)(e?.classList.contains("is-active")).toBe(!0)}),(0,vitest_1.it)("closes all modals when delete button is clicked",()=>{document.body.innerHTML='\n                <div class="modal-target" data-target="modal1"></div>\n                <div class="modal-target" data-target="modal2"></div>\n                <div id="modal1" class="modal"></div>\n                <div id="modal2" class="modal"></div>\n                <div class="delete"></div>\n            ',setupModal();const[t,e]=document.querySelectorAll(".modal-target"),i=document.getElementById("modal1"),s=document.getElementById("modal2"),o=document.querySelector(".delete");t.click(),e.click(),(0,vitest_1.expect)(i?.classList.contains("is-active")).toBe(!0),(0,vitest_1.expect)(s?.classList.contains("is-active")).toBe(!0),o.click(),(0,vitest_1.expect)(i?.classList.contains("is-active")).toBe(!1),(0,vitest_1.expect)(s?.classList.contains("is-active")).toBe(!1)}),(0,vitest_1.it)("closes all modals when modal-background is clicked",()=>{document.body.innerHTML='\n                <div class="modal-target" data-target="modal1"></div>\n                <div id="modal1" class="modal"></div>\n                <div class="modal-background"></div>\n            ',setupModal();const t=document.querySelector(".modal-target"),e=document.getElementById("modal1"),i=document.querySelector(".modal-background");t.click(),(0,vitest_1.expect)(e?.classList.contains("is-active")).toBe(!0),i.click(),(0,vitest_1.expect)(e?.classList.contains("is-active")).toBe(!1)}),(0,vitest_1.it)("does nothing when target is not found",()=>{document.body.innerHTML='\n                <div class="modal-target" data-target="nonexistent"></div>\n            ',setupModal();const t=document.querySelector(".modal-target");(0,vitest_1.expect)(()=>t.click()).not.toThrow()}),(0,vitest_1.it)("does nothing when no modal elements exist",()=>{document.body.innerHTML="<div></div>",(0,vitest_1.expect)(()=>setupModal()).not.toThrow()})}),(0,vitest_1.describe)("openLink",()=>{(0,vitest_1.it)("toggles display from none to block",()=>{document.body.innerHTML='\n                <div class="open_links" style="display: none;">Link 1</div>\n                <div class="open_links" style="display: none;">Link 2</div>\n            ',openLink();const t=document.getElementsByClassName("open_links");(0,vitest_1.expect)(t[0].style.display).toBe("block"),(0,vitest_1.expect)(t[1].style.display).toBe("block")}),(0,vitest_1.it)("toggles display from block to none",()=>{document.body.innerHTML='\n                <div class="open_links" style="display: block;">Link 1</div>\n            ',openLink();const t=document.getElementsByClassName("open_links")[0];(0,vitest_1.expect)(t.style.display).toBe("none")}),(0,vitest_1.it)("handles multiple toggles",()=>{document.body.innerHTML='\n                <div class="open_links" style="display: none;">Link</div>\n            ';const t=document.getElementsByClassName("open_links")[0];openLink(),(0,vitest_1.expect)(t.style.display).toBe("block"),openLink(),(0,vitest_1.expect)(t.style.display).toBe("none"),openLink(),(0,vitest_1.expect)(t.style.display).toBe("block")}),(0,vitest_1.it)("does nothing when no open_links elements exist",()=>{document.body.innerHTML="<div></div>",(0,vitest_1.expect)(()=>openLink()).not.toThrow()})}),(0,vitest_1.describe)("initStringFormat",()=>{(0,vitest_1.it)("adds format method to String.prototype",()=>{(0,vitest_1.expect)(String.prototype.format).toBeUndefined(),initStringFormat(),(0,vitest_1.expect)(String.prototype.format).toBeDefined(),(0,vitest_1.expect)(typeof String.prototype.format).toBe("function")}),(0,vitest_1.it)("does not override existing format method",()=>{const t=vitest_1.vi.fn();String.prototype.format=t,initStringFormat(),(0,vitest_1.expect)(String.prototype.format).toBe(t)}),(0,vitest_1.it)("format method replaces {0}, {1}, etc. with arguments",()=>{initStringFormat();const t="Hello {0}, you are {1} years old".format("Alice",30);(0,vitest_1.expect)(t).toBe("Hello Alice, you are 30 years old")}),(0,vitest_1.it)("format method handles missing arguments",()=>{initStringFormat();const t="Hello {0}, you are {1} years old".format("Bob");(0,vitest_1.expect)(t).toBe("Hello Bob, you are {1} years old")}),(0,vitest_1.it)("format method handles multiple same placeholders",()=>{initStringFormat();const t="{0} + {0} = {1}".format(2,4);(0,vitest_1.expect)(t).toBe("2 + 2 = 4")}),(0,vitest_1.it)("format method handles non-string arguments",()=>{initStringFormat();const t="Number: {0}, Boolean: {1}, Null: {2}".format(42,!0,null);(0,vitest_1.expect)(t).toBe("Number: 42, Boolean: true, Null: null")})})});
