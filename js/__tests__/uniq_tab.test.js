"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vitest_1=require("vitest");require("../uniq_tab"),(0,vitest_1.describe)("uniq_tab.ts",()=>{(0,vitest_1.beforeEach)(()=>{document.body.innerHTML='\n            <ul id="tabs">\n                <li class="is-active" data-tab="tab1">Tab 1</li>\n                <li data-tab="tab2">Tab 2</li>\n                <li data-tab="tab3">Tab 3</li>\n            </ul>\n            <div id="tab-content">\n                <div class="is-active" data-content="tab1">Content 1</div>\n                <div data-content="tab2">Content 2</div>\n                <div data-content="tab3">Content 3</div>\n            </div>\n        '}),(0,vitest_1.describe)("updateActiveTab",()=>{(0,vitest_1.it)("removes is-active from all tabs and adds to selected",()=>{const t=[...document.querySelectorAll("#tabs li")],e=t[1];(0,vitest_1.expect)(t[0].classList.contains(ACTIVE_CLASS)).toBe(!0),(0,vitest_1.expect)(e.classList.contains(ACTIVE_CLASS)).toBe(!1),updateActiveTab(t,e),(0,vitest_1.expect)(t[0].classList.contains(ACTIVE_CLASS)).toBe(!1),(0,vitest_1.expect)(e.classList.contains(ACTIVE_CLASS)).toBe(!0)})}),(0,vitest_1.describe)("updateActiveContent",()=>{(0,vitest_1.it)("removes is-active from all content and adds to matching data-content",()=>{const t=[...document.querySelectorAll("#tab-content div")];(0,vitest_1.expect)(t[0].classList.contains(ACTIVE_CLASS)).toBe(!0),(0,vitest_1.expect)(t[1].classList.contains(ACTIVE_CLASS)).toBe(!1),updateActiveContent(t,"tab2"),(0,vitest_1.expect)(t[0].classList.contains(ACTIVE_CLASS)).toBe(!1),(0,vitest_1.expect)(t[1].classList.contains(ACTIVE_CLASS)).toBe(!0)}),(0,vitest_1.it)("handles content with no matching data-content",()=>{const t=[...document.querySelectorAll("#tab-content div")];updateActiveContent(t,"nonexistent"),(0,vitest_1.expect)(t[0].classList.contains(ACTIVE_CLASS)).toBe(!1),(0,vitest_1.expect)(t[1].classList.contains(ACTIVE_CLASS)).toBe(!1),(0,vitest_1.expect)(t[2].classList.contains(ACTIVE_CLASS)).toBe(!1)})}),(0,vitest_1.describe)("initTabs",()=>{(0,vitest_1.it)("sets up click handlers that switch tabs and content",()=>{const t=document.querySelectorAll("#tabs li"),e=document.querySelectorAll("#tab-content div");initTabs(),(0,vitest_1.expect)(t[0].classList.contains(ACTIVE_CLASS)).toBe(!0),(0,vitest_1.expect)(e[0].classList.contains(ACTIVE_CLASS)).toBe(!0),t[1].click(),(0,vitest_1.expect)(t[0].classList.contains(ACTIVE_CLASS)).toBe(!1),(0,vitest_1.expect)(t[1].classList.contains(ACTIVE_CLASS)).toBe(!0),(0,vitest_1.expect)(e[0].classList.contains(ACTIVE_CLASS)).toBe(!1),(0,vitest_1.expect)(e[1].classList.contains(ACTIVE_CLASS)).toBe(!0)}),(0,vitest_1.it)("handles clicking already active tab",()=>{const t=document.querySelectorAll("#tabs li"),e=document.querySelectorAll("#tab-content div");initTabs(),t[0].click(),(0,vitest_1.expect)(t[0].classList.contains(ACTIVE_CLASS)).toBe(!0),(0,vitest_1.expect)(e[0].classList.contains(ACTIVE_CLASS)).toBe(!0)})})});
