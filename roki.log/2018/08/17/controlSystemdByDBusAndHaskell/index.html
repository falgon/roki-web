<!DOCTYPE HTML>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
        <meta content="Roki" name="author" />
        
        <meta content="D-Bus とはメッセージバスシステムであり, アプリケーション間で互いにやりとりを行うためのプロセス間通信実装の 1 つである.システムデーモン(新しいハードウェアデバイスの追加やプリンタキューの変更などのイベント等)と,ユーザー単位のログインセッションデーモン(ユーザーアプリケーション間の一般的" name="description" />
        <meta property="og:description" content="D-Bus とはメッセージバスシステムであり, アプリケーション間で互いにやりとりを行うためのプロセス間通信実装の 1 つである.システムデーモン(新しいハードウェアデバイスの追加やプリンタキューの変更などのイベント等)と,ユーザー単位のログインセッションデーモン(ユーザーアプリケーション間の一般的" />
        
        <meta content="Hakyll" name="generator" />
        <meta property="twitter:card" content="summary" />
        <meta property="twitter:site" content="@roki_r7" />
        <meta property="twitter:creator" content="roki_r7" />
        <meta property="og:type" content="website" />
        
        
            <title>Haskell で D-Bus から systemd unit を制御する - roki.dev/roki.log</title>
            <meta property="og:title" content="Haskell で D-Bus から systemd unit を制御する" />
        
        <meta property="og:site_name" content="roki.dev/roki.log" />
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP&amp;family=Ubuntu+Mono&amp;display=swap" rel="stylesheet">

        <link rel="stylesheet" href="../../../../../style/roki.log.css" />
        <link rel="shortcut icon" href="../../../../../images/avator/favicon.ico" />
        
        
        
        <script type="text/javascript" src="../../../../../js/components.js"></script>
        <script type="text/javascript">
            addEventNavBar();
            addEventModal();
        </script>
        
        <meta name="google-site-verification" content="13X5cycw11yFEsfZrhsQ0m_cSI90r7HucdErNDQ8Za8" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116653080-2"></script>
		<script>
  		window.dataLayer = window.dataLayer || [];
  		function gtag(){dataLayer.push(arguments);}
  		gtag('js', new Date());
  		gtag('config', 'UA-116653080-2');
		</script>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5658861742931397" crossorigin="anonymous"></script>
        
        
        
    </head>

    <body>
        <div class="modal" id="modal-about">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">
                    <svg role="img" viewBox="0 0 320 512" aria-hidden="true" data-prefix="fas" data-icon="question" class="svg-inline--fa fa-question fa-fw mr-2"><path d="M64 160c0-53 43-96 96-96s96 43 96 96c0 42.7-27.9 78.9-66.5 91.4-28.4 9.2-61.5 35.3-61.5 76.6l0 24c0 17.7 14.3 32 32 32s32-14.3 32-32l0-24c0-1.7 .6-4.1 3.5-7.3 3-3.3 7.9-6.5 13.7-8.4 64.3-20.7 110.8-81 110.8-152.3 0-88.4-71.6-160-160-160S0 71.6 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm96 352c22.1 0 40-17.9 40-40s-17.9-40-40-40-40 17.9-40 40 17.9 40 40 40z" fill="currentColor"></path></svg>About
                    </p>
                    <button class="delete" aria-label="close"></button>
                </header>
                <section class="modal-card-body">
                    <a href="../../../../../roki.log">roki.log</a><p class="is-inline"> is a blog written about efforts and learning related to technology, mathematics, etc (Most of the content of the article is written in Japanese).</p>
                    <strong>All opinions expressed by Author on this blog is solely 
                    Author’s opinions and do not reflect the opinions of the company to 
                    which I belong.</strong>
                    For more infomation about author Roki, see 
                    <a href="../../../../../index.html">roki.dev</a>.
                </section>
            </div>
        </div>

        <nav class="navbar is-spaced" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <a style="background-color: transparent;" class="navbar-item title pt-5" href="../../../../../roki.log/index.html">
                    roki.log
                </a>
                <a role="button" class="navbar-burger burger has-text-light" aria-label="menu" aria-expanded="false" data-target="roki-log-navbar">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
                
            <div id="roki-log-navbar" class="navbar-menu">
                <div class="navbar-end">
                    <a class="navbar-item modal-target" data-target="modal-about">
                        <svg role="img" viewBox="0 0 320 512" aria-hidden="true" data-prefix="fas" data-icon="question" class="svg-inline--fa fa-question fa-fw mr-2"><path d="M64 160c0-53 43-96 96-96s96 43 96 96c0 42.7-27.9 78.9-66.5 91.4-28.4 9.2-61.5 35.3-61.5 76.6l0 24c0 17.7 14.3 32 32 32s32-14.3 32-32l0-24c0-1.7 .6-4.1 3.5-7.3 3-3.3 7.9-6.5 13.7-8.4 64.3-20.7 110.8-81 110.8-152.3 0-88.4-71.6-160-160-160S0 71.6 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm96 352c22.1 0 40-17.9 40-40s-17.9-40-40-40-40 17.9-40 40 17.9 40 40 40z" fill="currentColor"></path></svg>
                        About
                    </a>
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">
                            <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss mr-2"><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM32 160c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z" fill="currentColor"></path></svg>
                            Feed
                        </a>
                        <div class="navbar-dropdown">
                            <a class="navbar-item" href="../../../../../roki.log/feed/roki.log.xml">
                                <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-fw mr-2"><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM32 160c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z" fill="currentColor"></path></svg>
                                Atom
                            </a>
                            <a class="navbar-item" href="../../../../../roki.log/feed/roki.log-rss.xml">
                                <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-fw mr-2"><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM32 160c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32z" fill="currentColor"></path></svg>
                                RSS
                            </a>
                            <a class="navbar-item" href="https://feedly.com/i/subscription/feed/https://roki.dev/roki.log/feed/roki.log.xml" target="_blank" rel="nofollow noopener">
                                <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="square-rss" class="svg-inline--fa fa-square-rss fa-fw mr-2"><path d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM96 136c0-13.3 10.7-24 24-24 137 0 248 111 248 248 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-200-200-200-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24 83.9 0 152 68.1 152 152 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104-13.3 0-24-10.7-24-24zm0 120a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z" fill="currentColor"></path></svg>
                                Feedly
                            </a>
                        </div>
                    </div>
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">
                            <svg role="img" viewBox="0 0 192 512" aria-hidden="true" data-prefix="fas" data-icon="info" class="svg-inline--fa fa-info mr-2"><path d="M48 48a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zM0 192c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 256 32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32s14.3-32 32-32l32 0 0-224-32 0c-17.7 0-32-14.3-32-32z" fill="currentColor"></path></svg>
                            More
                        </a>
                        <div class="navbar-dropdown">
                            <a class="navbar-item" href="../../../../../index.html">
                                <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="house" class="svg-inline--fa fa-house fa-fw mr-2"><path d="M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM240 320l32 0c26.5 0 48 21.5 48 48l0 96-128 0 0-96c0-26.5 21.5-48 48-48z" fill="currentColor"></path></svg>
                                roki.dev
                            </a>
                            <hr class="navbar-divider">
                            <a class="navbar-item" href="https://github.com/falgon/roki-web/issues/new/choose" target="_blank" rel="nofollow noopener">
                                <svg role="img" viewBox="0 0 576 512" aria-hidden="true" data-prefix="fas" data-icon="bug" class="svg-inline--fa fa-bug fa-fw mr-2"><path d="M192 96c0-53 43-96 96-96s96 43 96 96l0 3.6c0 15.7-12.7 28.4-28.4 28.4l-135.1 0c-15.7 0-28.4-12.7-28.4-28.4l0-3.6zm345.6 12.8c10.6 14.1 7.7 34.2-6.4 44.8l-97.8 73.3c5.3 8.9 9.3 18.7 11.8 29.1l98.8 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0 0 32c0 2.6-.1 5.3-.2 7.9l83.4 62.5c14.1 10.6 17 30.7 6.4 44.8s-30.7 17-44.8 6.4l-63.1-47.3c-23.2 44.2-66.5 76.2-117.7 83.9L312 280c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 230.2c-51.2-7.7-94.5-39.7-117.7-83.9L83.2 473.6c-14.1 10.6-34.2 7.7-44.8-6.4s-7.7-34.2 6.4-44.8l83.4-62.5c-.1-2.6-.2-5.2-.2-7.9l0-32-96 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l98.8 0c2.5-10.4 6.5-20.2 11.8-29.1L44.8 153.6c-14.1-10.6-17-30.7-6.4-44.8s30.7-17 44.8-6.4L192 184c12.3-5.1 25.8-8 40-8l112 0c14.2 0 27.7 2.8 40 8l108.8-81.6c14.1-10.6 34.2-7.7 44.8 6.4z" fill="currentColor"></path></svg>
                                Report an issue
                            </a>
                        </div>
                    </div>
                    <div class="navbar-item field">
                        <script async src="https://cse.google.com/cse.js?cx=002573853708615501531:c0ipiy0rxaw">
                        </script>
                        <div class="gcse-searchbox-only"></div>
                    </div>
                </div>
            </div>
        </nav>

        


<main class="section main" role="main">
    <article class="container">
        <div class="card mb-1 is-shadowless">
            <div class="card-content">
                <header>
                    <h2 class="title is-3">
                        <a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/index.html">Haskell で D-Bus から systemd unit を制御する</a>
                    </h2>
                    <ul>
                        <li>
                            <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="calendar-days" class="svg-inline--fa fa-calendar-days fa-fw"><path d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z" fill="currentColor"></path></svg>
                            2018/08/17 09:00
                        </li>
                        
                            <li>
                                <div class="is-inline-block is-valign-middle">
                                    <svg role="img" viewBox="0 0 576 512" aria-hidden="true" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-fw"><path d="M401.2 39.1L549.4 189.4c27.7 28.1 27.7 73.1 0 101.2L393 448.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L515.3 256.8c9.2-9.3 9.2-24.4 0-33.7L367 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM32.1 229.5L32.1 96c0-35.3 28.7-64 64-64l133.5 0c17 0 33.3 6.7 45.3 18.7l144 144c25 25 25 65.5 0 90.5L285.4 418.7c-25 25-65.5 25-90.5 0l-144-144c-12-12-18.7-28.3-18.7-45.3zm144-85.5a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z" fill="currentColor"></path></svg>
                                </div>
                                <div class="is-inline-block is-valign-middle">
                                    <div class="tags">
                                        <span class="tag is-dark"><a href="../../../../../roki.log/tags/haskell/index.html"><span>Haskell</span></a></span>
                                    </div>
                                </div>
                            </li>
                        
                    </ul>
                </header>

                
                <div class="content has-text-centered mt-5">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5658861742931397" crossorigin="anonymous"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5658861742931397" data-ad-slot="9716211878" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
                </div>
                

                <section class="mt-5 content">
                    
                    <article class="message is-warning">
                        <div class="message-body">
                            <i class="fas fa-info-circle mr-1"></i>
                            この記事は, <a href="https://falgon.github.io/roki.log/" target="_blank" rel="nofollow noopener">旧ブログ</a>から移植された記事です. よって, その内容として, <a href="https://falgon.github.io/roki.log/" target="_blank" rel="nofollow noopener">旧ブログ</a>に依存した文脈が含まれている可能性があります. 予めご了承下さい.
                        </div>
                    </article>
                    
                    <p>D-Bus とはメッセージバスシステムであり, アプリケーション間で互いにやりとりを行うためのプロセス間通信実装の 1 つである.
システムデーモン(新しいハードウェアデバイスの追加やプリンタキューの変更などのイベント等)と,
ユーザー単位のログインセッションデーモン(ユーザーアプリケーション間の一般的なIPC)を提供する<a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<p>現代的な Linux カーネルの init プロセスにて起動される systemd デーモンおよびその補助デーモンは,
D-Bus にいくつかの API を公開している.
私の観測範囲内において, C や Python, Go 等でこれらを利用する例はそこそこ見たことがあるのだが,
Haskell での取り組みは一切見たことがなかったので, 少々これらで遊んで見た日記として本エントリに記す.</p>
<!--more-->
<h2 id="d-bus-api-の確認">D-Bus API の確認</h2>
<p>実行環境は, 次の通りである.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> uname <span class="at">-a</span></span>
<span id="cb1-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Linux</span> vagrant 4.15.0-20-generic <span class="co">#21-Ubuntu SMP Tue Apr 24 06:16:15 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</span></span>
<span id="cb1-3"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> systemd <span class="at">--version</span></span>
<span id="cb1-4"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">systemd</span> 237</span>
<span id="cb1-5"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">+PAM</span> +AUDIT +SELINUX +IMA +APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ +LZ4 +SECCOMP +BLKID +ELFUTILS +KMOD <span class="at">-IDN2</span> +IDN <span class="at">-PCRE2</span> default-hierarchy=hybrid</span></code></pre></div>
<p>D-Bus に公開されている API を利用する際は,
とくに高度なラッパーライブラリを用いないような場合においては,
<code>dbus-send</code>あるいは<code>gdbus</code>等で全体の構造,
インタフェース, メソッドおよびフィールドメンバーを確認するとよい.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> function syst<span class="er">(</span><span class="kw">){</span> <span class="va">r</span><span class="op">=</span><span class="va">$(</span><span class="ex">gdbus</span> introspect <span class="at">--system</span> <span class="at">--dest</span> org.freedesktop.systemd1 <span class="at">--object-path</span> /org/freedesktop/systemd1<span class="va">)</span><span class="kw">;</span> <span class="bu">echo</span> <span class="va">${r}</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-n</span> <span class="va">$1</span> <span class="kw">&amp;&amp;</span> <span class="bu">echo</span> <span class="st">&quot;More than&quot;</span> <span class="va">$(($(</span><span class="bu">echo</span> <span class="va">${r}</span> <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span><span class="va">)</span> <span class="op">-</span> <span class="va">$1))</span> <span class="st">&quot;lines...&quot;</span><span class="kw">;</span> <span class="kw">}</span></span>
<span id="cb2-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> syst 10</span>
<span id="cb2-3"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> /org/freedesktop/systemd1 {</span>
<span id="cb2-4"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">interface</span> org.freedesktop.DBus.Peer {</span>
<span id="cb2-5"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">methods:</span></span>
<span id="cb2-6"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">Ping()</span><span class="kw">;</span></span>
<span id="cb2-7"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-7" aria-hidden="true" tabindex="-1"></a>      <span class="ex">GetMachineId</span><span class="er">(</span><span class="ex">out</span> s machine_uuid<span class="kw">);</span></span>
<span id="cb2-8"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">signals:</span></span>
<span id="cb2-9"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">properties:</span></span>
<span id="cb2-10"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="er">}</span><span class="kw">;</span></span>
<span id="cb2-11"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">interface</span> org.freedesktop.DBus.Introspectable {</span>
<span id="cb2-12"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="ex">methods:</span></span>
<span id="cb2-13"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="ex">More</span> than 397 lines...</span></code></pre></div>
<p>このインタフェース表記の意味するところに関する詳細は,
D-bus 仕様の Type System セクション<a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>に記載されている.</p>
<h2 id="d-bus-の-haskell-バインドの利用">D-Bus の Haskell バインドの利用</h2>
<p><a href="http://hackage.Haskell.org/package/dbus" target="_blank" rel="nofollow noopener">dbus</a> が利用できる.
例えば, 以下に示す<code>StartUnit</code>, <code>StopUnit</code>は,</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> gdbus introspect <span class="at">--system</span> <span class="at">--dest</span> org.freedesktop.systemd1 <span class="at">--object-path</span> /org/freedesktop/systemd1 <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-e</span> StartUnit <span class="at">-e</span> StopUnit <span class="at">-w</span> <span class="at">-A</span> 2</span>
<span id="cb3-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb3-2" aria-hidden="true" tabindex="-1"></a>      <span class="ex">StartUnit</span><span class="er">(in</span>  <span class="ex">s</span> arg_0,</span>
<span id="cb3-3"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb3-3" aria-hidden="true" tabindex="-1"></a>                <span class="er">in</span>  <span class="ex">s</span> arg_1,</span>
<span id="cb3-4"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb3-4" aria-hidden="true" tabindex="-1"></a>                <span class="ex">out</span> o arg_2<span class="kw">);</span></span>
<span id="cb3-5"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">--</span></span>
<span id="cb3-6"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb3-6" aria-hidden="true" tabindex="-1"></a>      <span class="ex">StopUnit</span><span class="er">(in</span>  <span class="ex">s</span> arg_0,</span>
<span id="cb3-7"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb3-7" aria-hidden="true" tabindex="-1"></a>               <span class="er">in</span>  <span class="ex">s</span> arg_1,</span>
<span id="cb3-8"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb3-8" aria-hidden="true" tabindex="-1"></a>               <span class="ex">out</span> o arg_2<span class="kw">);</span></span></code></pre></div>
<p>次のようにして呼び出せる.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb4-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ot">{-# LANGUAGE OverloadedStrings #-}</span></span>
<span id="cb4-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">DBus</span></span>
<span id="cb4-4"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">DBus.Client</span></span>
<span id="cb4-5"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Data.Int</span> (<span class="dt">Int32</span>)</span>
<span id="cb4-6"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="dt">Unit</span> <span class="ot">=</span> <span class="dt">String</span></span>
<span id="cb4-8"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="dt">Mode</span> <span class="ot">=</span> <span class="dt">String</span></span>
<span id="cb4-9"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="dt">SignalNum</span> <span class="ot">=</span> <span class="dt">Int32</span></span>
<span id="cb4-10"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="ot">systemdObjectPath ::</span> <span class="dt">ObjectPath</span></span>
<span id="cb4-12"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-12" aria-hidden="true" tabindex="-1"></a>systemdObjectPath <span class="ot">=</span> objectPath_ <span class="st">&quot;/org/freedesktop/systemd1&quot;</span></span>
<span id="cb4-13"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="ot">systemdInterfaceName ::</span> <span class="dt">InterfaceName</span></span>
<span id="cb4-15"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-15" aria-hidden="true" tabindex="-1"></a>systemdInterfaceName <span class="ot">=</span> interfaceName_ <span class="st">&quot;org.freedesktop.systemd1.Manager&quot;</span></span>
<span id="cb4-16"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="ot">systemdDestination ::</span> <span class="dt">BusName</span></span>
<span id="cb4-18"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-18" aria-hidden="true" tabindex="-1"></a>systemdDestination <span class="ot">=</span> busName_ <span class="st">&quot;org.freedesktop.systemd1&quot;</span></span>
<span id="cb4-19"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="ot">methodSub ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">MethodCall</span></span>
<span id="cb4-21"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-21" aria-hidden="true" tabindex="-1"></a>methodSub <span class="ot">=</span> methodCall systemdObjectPath systemdInterfaceName <span class="op">.</span> memberName_</span>
<span id="cb4-22"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="ot">systemdCall ::</span> <span class="dt">Client</span> <span class="ot">-&gt;</span> <span class="dt">MethodCall</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> [<span class="dt">Variant</span>]</span>
<span id="cb4-24"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-24" aria-hidden="true" tabindex="-1"></a>systemdCall <span class="ot">=</span> (<span class="op">.</span>) (<span class="fu">fmap</span> methodReturnBody) <span class="op">.</span> call_</span>
<span id="cb4-25"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="ot">controlUnit ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Client</span> <span class="ot">-&gt;</span> <span class="dt">Unit</span> <span class="ot">-&gt;</span> <span class="dt">Mode</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> [<span class="dt">Variant</span>]</span>
<span id="cb4-27"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-27" aria-hidden="true" tabindex="-1"></a>controlUnit med cli unit mode <span class="ot">=</span> systemdCall cli (methodSub med) {</span>
<span id="cb4-28"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-28" aria-hidden="true" tabindex="-1"></a>    methodCallDestination <span class="ot">=</span> <span class="dt">Just</span> systemdDestination,</span>
<span id="cb4-29"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-29" aria-hidden="true" tabindex="-1"></a>    methodCallBody <span class="ot">=</span> <span class="fu">map</span> toVariant [unit, mode]</span>
<span id="cb4-30"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-31"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="ot">startUnit ::</span> <span class="dt">Client</span> <span class="ot">-&gt;</span> <span class="dt">Unit</span> <span class="ot">-&gt;</span> <span class="dt">Mode</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> [<span class="dt">Variant</span>]</span>
<span id="cb4-33"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-33" aria-hidden="true" tabindex="-1"></a>startUnit <span class="ot">=</span> controlUnit <span class="st">&quot;StartUnit&quot;</span></span>
<span id="cb4-34"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-35"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="ot">stopUnit ::</span> <span class="dt">Client</span> <span class="ot">-&gt;</span> <span class="dt">Unit</span> <span class="ot">-&gt;</span> <span class="dt">Mode</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> [<span class="dt">Variant</span>]</span>
<span id="cb4-36"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb4-36" aria-hidden="true" tabindex="-1"></a>stopUnit <span class="ot">=</span> controlUnit <span class="st">&quot;StopUnit&quot;</span></span></code></pre></div>
<p>以下に示す<code>ListUnitsByNames</code><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>は,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> gdbus introspect <span class="at">--system</span> <span class="at">--dest</span> org.freedesktop.systemd1 <span class="at">--object-path</span> /org/freedesktop/systemd1 <span class="kw">|</span> <span class="fu">grep</span> ListUnitsByNames <span class="at">-w</span> <span class="at">-A</span> 1</span>
<span id="cb5-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb5-2" aria-hidden="true" tabindex="-1"></a>      <span class="ex">ListUnitsByNames</span><span class="er">(in</span>  <span class="fu">as</span> arg_0,</span>
<span id="cb5-3"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb5-3" aria-hidden="true" tabindex="-1"></a>                       <span class="ex">out</span> a<span class="er">(</span><span class="ex">ssssssouso</span><span class="kw">)</span> <span class="ex">arg_1</span><span class="kw">);</span></span></code></pre></div>
<p>次のようにして呼び出せる.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb6-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ot">listUnitsByNames ::</span> <span class="dt">IsValue</span> a <span class="ot">=&gt;</span> <span class="dt">Client</span> <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> <span class="dt">IO</span> [<span class="dt">Variant</span>]</span>
<span id="cb6-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb6-2" aria-hidden="true" tabindex="-1"></a>listUnitsByNames cli var <span class="ot">=</span> systemdCall cli (methodSub <span class="st">&quot;ListUnitsByNames&quot;</span>) {</span>
<span id="cb6-3"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb6-3" aria-hidden="true" tabindex="-1"></a>    methodCallDestination <span class="ot">=</span> <span class="dt">Just</span> systemdDestination,</span>
<span id="cb6-4"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb6-4" aria-hidden="true" tabindex="-1"></a>    methodCallBody <span class="ot">=</span> [toVariant var]</span>
<span id="cb6-5"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb6-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>動作確認のためのユニットを適当に置いておく<a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir <span class="at">-p</span> /opt/writehello/bin</span>
<span id="cb7-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo sh <span class="at">-c</span> <span class="st">&quot;echo </span><span class="dt">\&quot;</span><span class="st">#\!/bin/bash\nwhile :\ndo\n\tsleep 3\n\techo </span><span class="dt">\&quot;</span><span class="st">hello</span><span class="dt">\&quot;</span><span class="st">\ndone</span><span class="dt">\&quot;</span><span class="st">&quot;</span> <span class="op">&gt;</span> writehello.sh</span>
<span id="cb7-3"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo chmod +x /opt/writehello/bin/writehello.sh</span>
<span id="cb7-4"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo sh <span class="at">-c</span> <span class="st">&quot;echo </span><span class="dt">\&quot;</span><span class="st">[Unit]\nDescription = hello daemon\nConditionPathExists = /opt/writehello/bin/writehello.sh\n\n[Service]\nExecStart = /opt/writehello/bin/writehello.sh\nRestart = always\nType = simple\n\n[Install]\nWantedBy = multi-user.target</span><span class="dt">\&quot;</span><span class="st">&quot;</span> <span class="op">&gt;</span> /etc/systemd/system/writehello.service</span>
<span id="cb7-5"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo chmod <span class="at">-x</span> /etc/systemd/system/writehello.service</span>
<span id="cb7-6"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo chmod o-w /etc/systemd/system/writehello.service</span>
<span id="cb7-7"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo systemd-analyze verify /etc/systemd/system/writehello.service</span>
<span id="cb7-8"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="ex">Attempted</span> to remove disk file system, and we can<span class="st">&#39;t allow that.</span></span>
<span id="cb7-9"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="st">$ sudo systemctl daemon-reload</span></span>
<span id="cb7-10"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="st">$ sudo systemctl start writehello.service &amp;&amp; journalctl -f -u writehello.service &amp; sleep 10 &amp;&amp; sudo kill $! &amp;&amp; sudo systemctl stop writehello.service</span></span>
<span id="cb7-11"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="st">[1] 2001</span></span>
<span id="cb7-12"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="st">-- Logs begin at Fri 2018-08-17 16:19:05 UTC. --</span></span>
<span id="cb7-13"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="st">Aug 17 16:19:13 vagrant systemd[1]: Started hello daemon.</span></span>
<span id="cb7-14"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="st">Aug 17 16:19:16 vagrant writehello.sh[1989]: hello</span></span>
<span id="cb7-15"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="st">Aug 17 16:19:19 vagrant writehello.sh[1989]: hello</span></span>
<span id="cb7-16"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="st">Aug 17 16:19:22 vagrant writehello.sh[1989]: hello</span></span></code></pre></div>
<p>先の関数らから writehello.service ユニットを制御する.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb8-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">module</span> <span class="dt">Main</span> <span class="kw">where</span></span>
<span id="cb8-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">DBus.Client</span> (connectSystem)</span>
<span id="cb8-4"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">System.Environment</span> (getArgs)</span>
<span id="cb8-5"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">Control.Monad</span> (mapM_, (&lt;=&lt;))</span>
<span id="cb8-6"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="ot">main ::</span> <span class="dt">IO</span> ()</span>
<span id="cb8-8"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-8" aria-hidden="true" tabindex="-1"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb8-9"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-9" aria-hidden="true" tabindex="-1"></a>    client <span class="ot">&lt;-</span> connectSystem</span>
<span id="cb8-10"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-10" aria-hidden="true" tabindex="-1"></a>    args <span class="ot">&lt;-</span> getArgs</span>
<span id="cb8-11"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mapM_</span> (<span class="fu">print</span> <span class="op">&lt;=&lt;</span> <span class="fu">flip</span> (startUnit client) <span class="st">&quot;replace&quot;</span>) args</span>
<span id="cb8-12"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="op">=&lt;&lt;</span> listUnitsByNames client args</span></code></pre></div>
<p>引数に writehello.service を指定してスーパーユーザで実行すると, 次のような出力が得られる.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">[Variant</span> <span class="er">(</span><span class="ex">ObjectPath</span> <span class="st">&quot;/org/freedesktop/systemd1/job/1053&quot;</span><span class="kw">)</span><span class="ex">]</span></span>
<span id="cb9-2"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[Variant</span> [<span class="er">(</span><span class="st">&quot;writehello.service&quot;</span><span class="ex">,</span> <span class="st">&quot;hello daemon&quot;</span>, <span class="st">&quot;loaded&quot;</span>, <span class="st">&quot;active&quot;</span>, <span class="st">&quot;running&quot;</span>, <span class="st">&quot;&quot;</span>, ObjectPath <span class="st">&quot;/org/freedesktop/systemd1/unit/writehello_2eservice&quot;</span>, 0, <span class="st">&quot;&quot;</span>, ObjectPath <span class="st">&quot;/&quot;</span><span class="kw">)</span><span class="ex">]]</span></span></code></pre></div>
<p>停止も忘れずに.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb10-1"><a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mapM_</span> (<span class="fu">print</span> <span class="op">&lt;=&lt;</span> <span class="fu">flip</span> (stopUnit client) <span class="st">&quot;replace&quot;</span>) args </span></code></pre></div>
<p>なお, 本エントリにおける一連の実装とその他の
systemd D-Bus API を利用したいくつかの snippets を下記リポジトリにて管理している.</p>
<div class="box has-text-centered is-shadowless">
<p><svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github mr-2"><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" fill="currentColor"></path></svg>
<a href="https://bitbucket.org/r0ki/systemdplhs/src/master/" target="_blank" rel="nofollow noopener">r0ki/systemdplhs - Snippets collection that controls systemd from D-Bus with Haskell.</a></p>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>説明は<a href="https://www.freedesktop.org/wiki/Software/dbus/#index1h1" target="_blank" rel="nofollow noopener">公式ページ</a>から.<a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>“D-Bus Specification”, <a href="https://dbus.freedesktop.org/doc/dbus-specification.html#type-system" class="uri" target="_blank" rel="nofollow noopener">https://dbus.freedesktop.org/doc/dbus-specification.html#type-system</a> 2018 年 8 月 17 日アクセス.<a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Note: <code>ListUnitsByName</code> は systemd v230 以上を要する.<a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><code>systemd-analyze verify</code>の結果で, <code>Attempted to remove disk file system, and we can&#39;t allow that.</code>というメッセージが出力されているが, これは systemd 237-4 および 238 でのバグ(<a href="https://github.com/systemd/systemd/issues/8592" target="_blank" rel="nofollow noopener">#8592</a>)との報告がある.<a href="../../../../../roki.log/2018/08/17/controlSystemdByDBusAndHaskell/#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
                </section>
                <hr class="hr" />
                <div class="has-text-right">
    <style>
    .social-icon a {
        color: #363636;
    }
    </style>
    <ul class="fa-ul">
        <li class="fa-li is-inline social-icon">
            <a href="http://twitter.com/share?url=https://roki.dev/roki.log/2018/08/17/controlSystemdByDBusAndHaskell/index.html&amp;text=Haskell で D-Bus から systemd unit を制御する%20%7C%20roki.dev%2Froki.log&amp;via=530506" rel="nofollow noopener noreferrer" class="social-icon-twitter" target="_blank" rel="nofollow noopener">
                <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fab" data-icon="square-x-twitter" class="svg-inline--fa fa-square-x-twitter fa-lg"><path d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm297.1 84l-103.8 118.6 122.1 161.4-95.6 0-74.8-97.9-85.7 97.9-47.5 0 111-126.9-117.1-153.1 98 0 67.7 89.5 78.2-89.5 47.5 0zM323.3 367.6l-169.9-224.7-28.3 0 171.8 224.7 26.4 0z" fill="currentColor"></path></svg>
            </a>
        </li>
        <li class="fa-li is-inline social-icon">
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://roki.dev/roki.log/2018/08/17/controlSystemdByDBusAndHaskell/index.html" rel="nofollow noopener noreferrer" class="social-icon-facebook" target="_blank" rel="nofollow noopener">
                <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fab" data-icon="square-facebook" class="svg-inline--fa fa-square-facebook fa-lg"><path d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l98.2 0 0-145.8-52.8 0 0-78.2 52.8 0 0-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4l0 70.8c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2l0 27.8 83.6 0-14.4 78.2-69.3 0 0 145.8 129 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z" fill="currentColor"></path></svg>
            </a>
        </li>
        <li class="fa-li is-inline social-icon">
            <a href="https://social-plugins.line.me/lineit/share?url=https://roki.dev/roki.log/2018/08/17/controlSystemdByDBusAndHaskell/index.html" rel="nofollow noopener noreferrer" class="social-icon-line" target="_blank" rel="nofollow noopener">
                <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fab" data-icon="line" class="svg-inline--fa fa-line fa-lg"><path d="M311 196.8l0 81.3c0 2.1-1.6 3.7-3.7 3.7l-13 0c-1.3 0-2.4-.7-3-1.5L254 230 254 278.2c0 2.1-1.6 3.7-3.7 3.7l-13 0c-2.1 0-3.7-1.6-3.7-3.7l0-81.3c0-2.1 1.6-3.7 3.7-3.7l12.9 0c1.1 0 2.4 .6 3 1.6l37.3 50.3 0-48.2c0-2.1 1.6-3.7 3.7-3.7l13 0c2.1-.1 3.8 1.6 3.8 3.5l0 .1zm-93.7-3.7l-13 0c-2.1 0-3.7 1.6-3.7 3.7l0 81.3c0 2.1 1.6 3.7 3.7 3.7l13 0c2.1 0 3.7-1.6 3.7-3.7l0-81.3c0-1.9-1.6-3.7-3.7-3.7zm-31.4 68.1l-35.6 0 0-64.4c0-2.1-1.6-3.7-3.7-3.7l-13 0c-2.1 0-3.7 1.6-3.7 3.7l0 81.3c0 1 .3 1.8 1 2.5 .7 .6 1.5 1 2.5 1l52.2 0c2.1 0 3.7-1.6 3.7-3.7l0-13c0-1.9-1.6-3.7-3.5-3.7l.1 0zm193.7-68.1l-52.3 0c-1.9 0-3.7 1.6-3.7 3.7l0 81.3c0 1.9 1.6 3.7 3.7 3.7l52.2 0c2.1 0 3.7-1.6 3.7-3.7l0-13.1c0-2.1-1.6-3.7-3.7-3.7l-35.5 0 0-13.6 35.5 0c2.1 0 3.7-1.6 3.7-3.7l0-13.1c0-2.1-1.6-3.7-3.7-3.7l-35.5 0 0-13.7 35.5 0c2.1 0 3.7-1.6 3.7-3.7l0-13c-.1-1.9-1.7-3.7-3.7-3.7l.1 0zM512 93.4l0 326c-.1 51.2-42.1 92.7-93.4 92.6l-326 0C41.4 511.9-.1 469.8 0 418.6l0-326C.1 41.4 42.2-.1 93.4 0l326 0c51.2 .1 92.7 42.1 92.6 93.4zM441.6 233.5c0-83.4-83.7-151.3-186.4-151.3S68.8 150.1 68.8 233.5c0 74.7 66.3 137.4 155.9 149.3 21.8 4.7 19.3 12.7 14.4 42.1-.8 4.7-3.8 18.4 16.1 10.1s107.3-63.2 146.5-108.2c27-29.7 39.9-59.8 39.9-93.1l0-.2z" fill="currentColor"></path></svg>
            </a>
        </li>
        <li class="fa-li is-inline social-icon">
            <a href="https://getpocket.com/edit?url=https://roki.dev/roki.log/2018/08/17/controlSystemdByDBusAndHaskell/index.html" rel="nofollow noopener noreferrer" class="social-icon-pocket" target="_blank" rel="nofollow noopener">
                <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fab" data-icon="get-pocket" class="svg-inline--fa fa-get-pocket fa-lg"><path d="M407.6 64l-367 0C18.5 64 0 82.5 0 104.6L0 239.8C0 364.5 99.7 464 224.2 464 348.2 464 448 364.5 448 239.8l0-135.2C448 82.2 430.3 64 407.6 64zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0-113.7-108.9-114.9-105.1-114.9-123.2 0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3s30.7 13.8 30.7 30.7c0 17.8-2.9 15.7-114.8 123.2z" fill="currentColor"></path></svg>
            </a>
        </li>
    </ul>
</div>

                <div class="mt-2">
                    <p class="has-text-centered is-block subtitle is-5 is-italic mt-4 mb-3">活動継続のためのご支援を募集しています</p>
                    <ul class="buttons is-flex is-justify-content-center">
                        <li class="mt-2">
                            <a class="button is-link is-light" href="https://www.buymeacoffee.com/roki" target="_blank" rel="nofollow noopener">
                                <span class="icon"><svg role="img" viewBox="0 0 576 512" aria-hidden="true" data-prefix="fas" data-icon="mug-hot" class="svg-inline--fa fa-mug-hot"><path d="M152-16c-13.3 0-24 10.7-24 24 0 38.9 23.4 59.4 39.1 73.1l1.1 1c16.3 14.3 23.8 21.8 23.8 37.9 0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C183.5 31.7 176 24.1 176 8 176-5.3 165.3-16 152-16zM96 192c-17.7 0-32 14.3-32 32l0 192c0 53 43 96 96 96l192 0c41.8 0 77.4-26.7 90.5-64l5.5 0c70.7 0 128-57.3 128-128S518.7 192 448 192L96 192zM448 384l0-128c35.3 0 64 28.7 64 64s-28.7 64-64 64zM288 8c0-13.3-10.7-24-24-24S240-5.3 240 8c0 38.9 23.4 59.4 39.1 73.1l1.1 1c16.3 14.3 23.8 21.8 23.8 37.9 0 13.3 10.7 24 24 24s24-10.7 24-24c0-38.9-23.4-59.4-39.1-73.1l-1.1-1C295.5 31.7 288 24.1 288 8z" fill="currentColor"></path></svg></span>
                                <span>Buy Me a Coffee</span>
                            </a>
                        </li>
                        <li class="mt-2">
                            <a class="button is-link is-light" href="https://www.amazon.jp/hz/wishlist/ls/3UGS8VKEBGECO?ref_=wl_share" target="_blank" rel="nofollow noopener">
                                <span class="icon"><svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fab" data-icon="amazon" class="svg-inline--fa fa-amazon"><path d="M257.7 162.7c-48.7 1.8-169.5 15.5-169.5 117.5 0 109.5 138.3 114 183.5 43.2 6.5 10.2 35.4 37.5 45.3 46.8l56.8-56s-32.3-25.3-32.3-52.8l0-147.1C341.5 89 317 32 229.2 32 141.2 32 94.5 87 94.5 136.3l73.5 6.8c16.3-49.5 54.2-49.5 54.2-49.5 40.7-.1 35.5 29.8 35.5 69.1zm0 86.8c0 80-84.2 68-84.2 17.2 0-47.2 50.5-56.7 84.2-57.8l0 40.6zM393.7 413c-7.7 10-70 67-174.5 67S34.7 408.5 10.2 379c-6.8-7.7 1-11.3 5.5-8.3 73.3 44.5 187.8 117.8 372.5 30.3 7.5-3.7 13.3 2 5.5 12zm39.8 2.2c-6.5 15.8-16 26.8-21.2 31-5.5 4.5-9.5 2.7-6.5-3.8s19.3-46.5 12.7-55c-6.5-8.3-37-4.3-48-3.2-10.8 1-13 2-14-.3-2.3-5.7 21.7-15.5 37.5-17.5 15.7-1.8 41-.8 46 5.7 3.7 5.1 0 27.1-6.5 43.1z" fill="currentColor"></path></svg></span>
                                <span>Wishlist</span>
                            </a>
                        </li>
                    </div>
                </div>
                <aside class="comments mt-4">
                    <div id="disqus_thread"></div>
                    <script>
                    (function() { 
                        var d = document, s = d.createElement('script');
                        s.src = 'https://roki-log.disqus.com/embed.js';
                        s.setAttribute('data-timestamp', +new Date());
                        (d.head || d.body).appendChild(s); 
                    })();
                    </script>
                    <noscript>
                        Please enable JavaScript to view the 
                        <a href="https://roki-log.disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener">
                            comments powered by Disqus.
                        </a>
                    </noscript>
                </aside>

                <div class="container">
                    <div class="card mb-1 is-shadowless" style="background-color: transparent;">
                        <div class="card-content">
                            <nav class="pagination is-centered" role="navigation" aria-label="pagination">
                                
				                <a href="../../../../../roki.log/2018/09/6/The_definition_of_Trigonometric_function/index.html" class="pagination-previous">
                                    <div class="is-inline-block is-valign-middle">
                                        <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="angles-left" class="svg-inline--fa fa-angles-left mr-1"><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L269.3 256 406.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z" fill="currentColor"></path></svg>
                                    </div>
                                    <div class="is-inline-block is-valign-middle">
                                        <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="calendar-days" class="svg-inline--fa fa-calendar-days mr-1"><path d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z" fill="currentColor"></path></svg>2018/09/06 00:00:00
                                        <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil ml-1 mr-1"><path d="M36.4 353.2c4.1-14.6 11.8-27.9 22.6-38.7l181.2-181.2 33.9-33.9c16.6 16.6 51.3 51.3 104 104l33.9 33.9-33.9 33.9-181.2 181.2c-10.7 10.7-24.1 18.5-38.7 22.6L30.4 510.6c-8.3 2.3-17.3 0-23.4-6.2S-1.4 489.3 .9 481L36.4 353.2zm55.6-3.7c-4.4 4.7-7.6 10.4-9.3 16.6l-24.1 86.9 86.9-24.1c6.4-1.8 12.2-5.1 17-9.7L91.9 349.5zm354-146.1c-16.6-16.6-51.3-51.3-104-104L308 65.5C334.5 39 349.4 24.1 352.9 20.6 366.4 7 384.8-.6 404-.6S441.6 7 455.1 20.6l35.7 35.7C504.4 69.9 512 88.3 512 107.4s-7.6 37.6-21.2 51.1c-3.5 3.5-18.4 18.4-44.9 44.9z" fill="currentColor"></path></svg>三角関数の公...
                                    </div>
                                </a>
                                

                                
				                <a href="../../../../../roki.log/2018/08/15/aws_ec2_distcc/index.html" class="pagination-next">
                                    <div class="is-inline-block is-valign-middle">
                                        <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="calendar-days" class="svg-inline--fa fa-calendar-days mr-1"><path d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 32 0c35.3 0 64 28.7 64 64l0 288c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 128C0 92.7 28.7 64 64 64l32 0 0-32c0-17.7 14.3-32 32-32zM64 240l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 368l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z" fill="currentColor"></path></svg>2018/08/15 00:00:00
                                        <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil ml-1 mr-1"><path d="M36.4 353.2c4.1-14.6 11.8-27.9 22.6-38.7l181.2-181.2 33.9-33.9c16.6 16.6 51.3 51.3 104 104l33.9 33.9-33.9 33.9-181.2 181.2c-10.7 10.7-24.1 18.5-38.7 22.6L30.4 510.6c-8.3 2.3-17.3 0-23.4-6.2S-1.4 489.3 .9 481L36.4 353.2zm55.6-3.7c-4.4 4.7-7.6 10.4-9.3 16.6l-24.1 86.9 86.9-24.1c6.4-1.8 12.2-5.1 17-9.7L91.9 349.5zm354-146.1c-16.6-16.6-51.3-51.3-104-104L308 65.5C334.5 39 349.4 24.1 352.9 20.6 366.4 7 384.8-.6 404-.6S441.6 7 455.1 20.6l35.7 35.7C504.4 69.9 512 88.3 512 107.4s-7.6 37.6-21.2 51.1c-3.5 3.5-18.4 18.4-44.9 44.9z" fill="currentColor"></path></svg>AWS EC...
                                    </div>
                                    <div class="ml-1 is-inline-block is-valign-middle">
                                        <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="angles-right" class="svg-inline--fa fa-angles-right"><path d="M439.1 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L371.2 256 233.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L179.2 256 41.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z" fill="currentColor"></path></svg>
                                    </div>
                                </a>
                                
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </article>
</main>
<footer class="footer">
    <div class="container" style="display: flex; justify-content: center; align-items: center;">
    <figure class="image">
        <img class="footer-dec" />
    </figure>
</div>

    <div class="container mt-3">
        <div class="columns is-multiline">
            <div class="column is-one-quarter">
                <h4 class="title is-5">
                    <svg role="img" viewBox="0 0 448 512" aria-hidden="true" data-prefix="fas" data-icon="user" class="svg-inline--fa fa-user"><path d="M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z" fill="currentColor"></path></svg>
                    About Me
                </h4>
                <figure class="image is-64x64 is-inline-block is-valign-middle" style="align: center;">
                    <picture>
                        <source type="image/webp" class="blured-my-prof-webp" srcset="../../../../../images/avator/prof1000x1000.png.webp"></source>
                        <img class="blured-my-prof is-inline-block mt-0 is-valign-middle" />
                    </picture>
                </figure>
                <div class="is-inline-block is-valign-middle">
                    <h5 class="title is-6 mb-0">
                        <svg role="img" viewBox="0 0 640 512" aria-hidden="true" data-prefix="fas" data-icon="signature" class="svg-inline--fa fa-signature fa-fw"><path d="M192 128c0-17.7 14.3-32 32-32s32 14.3 32 32l0 7.8c0 27.7-2.4 55.3-7.1 82.5l-84.4 25.3c-40.6 12.2-68.4 49.6-68.4 92l0 32.4-72 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72.5 0c4.2 36 34.8 64 72 64 26 0 50-13.9 62.9-36.5l13.9-24.3c26.8-47 46.5-97.7 58.4-150.5l94.4-28.3-12.5 37.5c-3.3 9.8-1.6 20.5 4.4 28.8S405.7 320 416 320l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-83.6 0 18-53.9c3.8-11.3 .9-23.8-7.4-32.4s-20.7-11.8-32.2-8.4L316.4 198.1c2.4-20.7 3.6-41.4 3.6-62.3l0-7.8c0-53-43-96-96-96s-96 43-96 96l0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32zm-9.2 177l49-14.7c-10.4 33.8-24.5 66.4-42.1 97.2l-13.9 24.3c-1.5 2.6-4.3 4.3-7.4 4.3-4.7 0-8.5-3.8-8.5-8.5l0-71.9c0-14.1 9.3-26.6 22.8-30.7zM616 416c13.3 0 24-10.7 24-24s-10.7-24-24-24l-292.9 0c-6.5 16.3-13.7 32.3-21.6 48L616 416z" fill="currentColor"></path></svg>
                        Roki
                    </h5>
                    <i class="fas fa-question-circle fa-fw"></i>
                    <a href="../../../../../">
                        more info
                    </a>
                </div>
            </div>
            
            <div class="column is-one-quarter">
                <h4 class="title is-5">
                    <svg role="img" viewBox="0 0 384 512" aria-hidden="true" data-prefix="fas" data-icon="file" class="svg-inline--fa fa-file"><path d="M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-277.5c0-17-6.7-33.3-18.7-45.3L258.7 18.7C246.7 6.7 230.5 0 213.5 0L64 0zM325.5 176L232 176c-13.3 0-24-10.7-24-24L208 58.5 325.5 176z" fill="currentColor"></path></svg>
                    Recent posts
                </h4>
                <ul>
                    
                    <li>
                        <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil"><path d="M36.4 353.2c4.1-14.6 11.8-27.9 22.6-38.7l181.2-181.2 33.9-33.9c16.6 16.6 51.3 51.3 104 104l33.9 33.9-33.9 33.9-181.2 181.2c-10.7 10.7-24.1 18.5-38.7 22.6L30.4 510.6c-8.3 2.3-17.3 0-23.4-6.2S-1.4 489.3 .9 481L36.4 353.2zm55.6-3.7c-4.4 4.7-7.6 10.4-9.3 16.6l-24.1 86.9 86.9-24.1c6.4-1.8 12.2-5.1 17-9.7L91.9 349.5zm354-146.1c-16.6-16.6-51.3-51.3-104-104L308 65.5C334.5 39 349.4 24.1 352.9 20.6 366.4 7 384.8-.6 404-.6S441.6 7 455.1 20.6l35.7 35.7C504.4 69.9 512 88.3 512 107.4s-7.6 37.6-21.2 51.1c-3.5 3.5-18.4 18.4-44.9 44.9z" fill="currentColor"></path></svg>
                        <a href="../../../../../roki.log/2025/04/16/introducing-mdm-snipe-it-asset-management-article/index.html">Snipe-IT と MDM を連携してモバイル端末の資産管理を効率化</a>
                    </li>
                    
                    <li>
                        <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil"><path d="M36.4 353.2c4.1-14.6 11.8-27.9 22.6-38.7l181.2-181.2 33.9-33.9c16.6 16.6 51.3 51.3 104 104l33.9 33.9-33.9 33.9-181.2 181.2c-10.7 10.7-24.1 18.5-38.7 22.6L30.4 510.6c-8.3 2.3-17.3 0-23.4-6.2S-1.4 489.3 .9 481L36.4 353.2zm55.6-3.7c-4.4 4.7-7.6 10.4-9.3 16.6l-24.1 86.9 86.9-24.1c6.4-1.8 12.2-5.1 17-9.7L91.9 349.5zm354-146.1c-16.6-16.6-51.3-51.3-104-104L308 65.5C334.5 39 349.4 24.1 352.9 20.6 366.4 7 384.8-.6 404-.6S441.6 7 455.1 20.6l35.7 35.7C504.4 69.9 512 88.3 512 107.4s-7.6 37.6-21.2 51.1c-3.5 3.5-18.4 18.4-44.9 44.9z" fill="currentColor"></path></svg>
                        <a href="../../../../../roki.log/2023/12/06/add-new-web-api-send-plain-text/index.html">東京ガスの請求通知を自作 LINE Bot に喋らせる</a>
                    </li>
                    
                    <li>
                        <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil"><path d="M36.4 353.2c4.1-14.6 11.8-27.9 22.6-38.7l181.2-181.2 33.9-33.9c16.6 16.6 51.3 51.3 104 104l33.9 33.9-33.9 33.9-181.2 181.2c-10.7 10.7-24.1 18.5-38.7 22.6L30.4 510.6c-8.3 2.3-17.3 0-23.4-6.2S-1.4 489.3 .9 481L36.4 353.2zm55.6-3.7c-4.4 4.7-7.6 10.4-9.3 16.6l-24.1 86.9 86.9-24.1c6.4-1.8 12.2-5.1 17-9.7L91.9 349.5zm354-146.1c-16.6-16.6-51.3-51.3-104-104L308 65.5C334.5 39 349.4 24.1 352.9 20.6 366.4 7 384.8-.6 404-.6S441.6 7 455.1 20.6l35.7 35.7C504.4 69.9 512 88.3 512 107.4s-7.6 37.6-21.2 51.1c-3.5 3.5-18.4 18.4-44.9 44.9z" fill="currentColor"></path></svg>
                        <a href="../../../../../roki.log/2022/04/10/LineBotDevelopment/index.html">簡易認証, 指定時間実行可能な LINE Bot の自作</a>
                    </li>
                    
                    <li>
                        <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil"><path d="M36.4 353.2c4.1-14.6 11.8-27.9 22.6-38.7l181.2-181.2 33.9-33.9c16.6 16.6 51.3 51.3 104 104l33.9 33.9-33.9 33.9-181.2 181.2c-10.7 10.7-24.1 18.5-38.7 22.6L30.4 510.6c-8.3 2.3-17.3 0-23.4-6.2S-1.4 489.3 .9 481L36.4 353.2zm55.6-3.7c-4.4 4.7-7.6 10.4-9.3 16.6l-24.1 86.9 86.9-24.1c6.4-1.8 12.2-5.1 17-9.7L91.9 349.5zm354-146.1c-16.6-16.6-51.3-51.3-104-104L308 65.5C334.5 39 349.4 24.1 352.9 20.6 366.4 7 384.8-.6 404-.6S441.6 7 455.1 20.6l35.7 35.7C504.4 69.9 512 88.3 512 107.4s-7.6 37.6-21.2 51.1c-3.5 3.5-18.4 18.4-44.9 44.9z" fill="currentColor"></path></svg>
                        <a href="../../../../../roki.log/2021/07/10/SelfMadeTinyGit/index.html">技術書典 11 にて Git (一部) を自作する記事を執筆した</a>
                    </li>
                    
                    <li>
                        <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="pencil" class="svg-inline--fa fa-pencil"><path d="M36.4 353.2c4.1-14.6 11.8-27.9 22.6-38.7l181.2-181.2 33.9-33.9c16.6 16.6 51.3 51.3 104 104l33.9 33.9-33.9 33.9-181.2 181.2c-10.7 10.7-24.1 18.5-38.7 22.6L30.4 510.6c-8.3 2.3-17.3 0-23.4-6.2S-1.4 489.3 .9 481L36.4 353.2zm55.6-3.7c-4.4 4.7-7.6 10.4-9.3 16.6l-24.1 86.9 86.9-24.1c6.4-1.8 12.2-5.1 17-9.7L91.9 349.5zm354-146.1c-16.6-16.6-51.3-51.3-104-104L308 65.5C334.5 39 349.4 24.1 352.9 20.6 366.4 7 384.8-.6 404-.6S441.6 7 455.1 20.6l35.7 35.7C504.4 69.9 512 88.3 512 107.4s-7.6 37.6-21.2 51.1c-3.5 3.5-18.4 18.4-44.9 44.9z" fill="currentColor"></path></svg>
                        <a href="../../../../../roki.log/2020/12/16/CompileTimeLazyKWithCXXTemplateMetaProgramming/index.html">C++ テンプレートメタプログラミングによるコンパイル時 Lazy K インタプリタ</a>
                    </li>
                    
                </ul>
            </div>

            <div class="column is-one-quarter">
                <h4 class="title is-5">
                    <svg role="img" viewBox="0 0 576 512" aria-hidden="true" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags"><path d="M401.2 39.1L549.4 189.4c27.7 28.1 27.7 73.1 0 101.2L393 448.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L515.3 256.8c9.2-9.3 9.2-24.4 0-33.7L367 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM32.1 229.5L32.1 96c0-35.3 28.7-64 64-64l133.5 0c17 0 33.3 6.7 45.3 18.7l144 144c25 25 25 65.5 0 90.5L285.4 418.7c-25 25-65.5 25-90.5 0l-144-144c-12-12-18.7-28.3-18.7-45.3zm144-85.5a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z" fill="currentColor"></path></svg>
                    Categories
                </h4>
                <div class="tags"><span class="tag is-dark"><a href="../../../../../roki.log/tags/aws/index.html"><span>AWS</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/bot/index.html"><span>Bot</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/c/index.html"><span>C++</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/compiler/index.html"><span>Compiler</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/elementary-number-theory/index.html"><span>Elementary number theory</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/git/index.html"><span>Git</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/googleappsscript/index.html"><span>GoogleAppsScript</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/group-theory/index.html"><span>Group theory</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/haskell/index.html"><span>Haskell</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/line/index.html"><span>LINE</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/lambda/index.html"><span>Lambda</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/lazy-k/index.html"><span>Lazy K</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/mdm/index.html"><span>MDM</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/network/index.html"><span>Network</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/networking/index.html"><span>Networking</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/probability-theory/index.html"><span>Probability theory</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/python/index.html"><span>Python</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/quantum-mechanics/index.html"><span>Quantum mechanics</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/security/index.html"><span>Security</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/emscripten/index.html"><span>emscripten</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/golang/index.html"><span>golang</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/javascript/index.html"><span>javascript</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/math/index.html"><span>math</span></a></span><span class="tag is-dark"><a href="../../../../../roki.log/tags/physics/index.html"><span>physics</span></a></span></div>
            </div>

            <div class="column">
                <h4 class="title is-5">
                    <svg role="img" viewBox="0 0 512 512" aria-hidden="true" data-prefix="fas" data-icon="box-archive" class="svg-inline--fa fa-box-archive"><path d="M0 64C0 46.3 14.3 32 32 32l448 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96L0 64zM32 176l448 0 0 240c0 35.3-28.7 64-64 64L96 480c-35.3 0-64-28.7-64-64l0-240zm152 64c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z" fill="currentColor"></path></svg>
                    Archive
                </h4>
                <div class="archives">
                <ul class="archive-tree"><li><input class="tree-toggle" type="checkbox" id="tree-label-2025"><label class="tree-toggle-button" for="tree-label-2025"><svg role="img" viewBox="0 0 256 512" aria-hidden="true" data-prefix="fas" data-icon="angle-right" class="svg-inline--fa fa-angle-right fa-fw"><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" fill="currentColor"></path></svg><svg role="img" viewBox="0 0 384 512" aria-hidden="true" data-prefix="fas" data-icon="angle-down" class="svg-inline--fa fa-angle-down fa-fw"><path d="M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" fill="currentColor"></path></svg></label><a href="../../../../../roki.log/2025/index.html">2025 (1)</a><ul class="tree-child"><li><a href="../../../../../roki.log/2025/04/index.html">2025/04 (1)</a></li></ul></li><li><input class="tree-toggle" type="checkbox" id="tree-label-2023"><label class="tree-toggle-button" for="tree-label-2023"><svg role="img" viewBox="0 0 256 512" aria-hidden="true" data-prefix="fas" data-icon="angle-right" class="svg-inline--fa fa-angle-right fa-fw"><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" fill="currentColor"></path></svg><svg role="img" viewBox="0 0 384 512" aria-hidden="true" data-prefix="fas" data-icon="angle-down" class="svg-inline--fa fa-angle-down fa-fw"><path d="M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" fill="currentColor"></path></svg></label><a href="../../../../../roki.log/2023/index.html">2023 (1)</a><ul class="tree-child"><li><a href="../../../../../roki.log/2023/12/index.html">2023/12 (1)</a></li></ul></li><li><input class="tree-toggle" type="checkbox" id="tree-label-2022"><label class="tree-toggle-button" for="tree-label-2022"><svg role="img" viewBox="0 0 256 512" aria-hidden="true" data-prefix="fas" data-icon="angle-right" class="svg-inline--fa fa-angle-right fa-fw"><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" fill="currentColor"></path></svg><svg role="img" viewBox="0 0 384 512" aria-hidden="true" data-prefix="fas" data-icon="angle-down" class="svg-inline--fa fa-angle-down fa-fw"><path d="M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" fill="currentColor"></path></svg></label><a href="../../../../../roki.log/2022/index.html">2022 (1)</a><ul class="tree-child"><li><a href="../../../../../roki.log/2022/04/index.html">2022/04 (1)</a></li></ul></li><li><input class="tree-toggle" type="checkbox" id="tree-label-2021"><label class="tree-toggle-button" for="tree-label-2021"><svg role="img" viewBox="0 0 256 512" aria-hidden="true" data-prefix="fas" data-icon="angle-right" class="svg-inline--fa fa-angle-right fa-fw"><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" fill="currentColor"></path></svg><svg role="img" viewBox="0 0 384 512" aria-hidden="true" data-prefix="fas" data-icon="angle-down" class="svg-inline--fa fa-angle-down fa-fw"><path d="M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" fill="currentColor"></path></svg></label><a href="../../../../../roki.log/2021/index.html">2021 (1)</a><ul class="tree-child"><li><a href="../../../../../roki.log/2021/07/index.html">2021/07 (1)</a></li></ul></li><li><input class="tree-toggle" type="checkbox" id="tree-label-2020"><label class="tree-toggle-button" for="tree-label-2020"><svg role="img" viewBox="0 0 256 512" aria-hidden="true" data-prefix="fas" data-icon="angle-right" class="svg-inline--fa fa-angle-right fa-fw"><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" fill="currentColor"></path></svg><svg role="img" viewBox="0 0 384 512" aria-hidden="true" data-prefix="fas" data-icon="angle-down" class="svg-inline--fa fa-angle-down fa-fw"><path d="M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" fill="currentColor"></path></svg></label><a href="../../../../../roki.log/2020/index.html">2020 (3)</a><ul class="tree-child"><li><a href="../../../../../roki.log/2020/12/index.html">2020/12 (1)</a></li><li><a href="../../../../../roki.log/2020/08/index.html">2020/08 (1)</a></li><li><a href="../../../../../roki.log/2020/03/index.html">2020/03 (1)</a></li></ul></li><li><input class="tree-toggle" type="checkbox" id="tree-label-2019"><label class="tree-toggle-button" for="tree-label-2019"><svg role="img" viewBox="0 0 256 512" aria-hidden="true" data-prefix="fas" data-icon="angle-right" class="svg-inline--fa fa-angle-right fa-fw"><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" fill="currentColor"></path></svg><svg role="img" viewBox="0 0 384 512" aria-hidden="true" data-prefix="fas" data-icon="angle-down" class="svg-inline--fa fa-angle-down fa-fw"><path d="M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" fill="currentColor"></path></svg></label><a href="../../../../../roki.log/2019/index.html">2019 (5)</a><ul class="tree-child"><li><a href="../../../../../roki.log/2019/05/index.html">2019/05 (1)</a></li><li><a href="../../../../../roki.log/2019/03/index.html">2019/03 (2)</a></li><li><a href="../../../../../roki.log/2019/01/index.html">2019/01 (2)</a></li></ul></li><li><input class="tree-toggle" type="checkbox" id="tree-label-2018" checked><label class="tree-toggle-button" for="tree-label-2018"><svg role="img" viewBox="0 0 256 512" aria-hidden="true" data-prefix="fas" data-icon="angle-right" class="svg-inline--fa fa-angle-right fa-fw"><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z" fill="currentColor"></path></svg><svg role="img" viewBox="0 0 384 512" aria-hidden="true" data-prefix="fas" data-icon="angle-down" class="svg-inline--fa fa-angle-down fa-fw"><path d="M169.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 306.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" fill="currentColor"></path></svg></label><a href="../../../../../roki.log/2018/index.html">2018 (29)</a><ul class="tree-child"><li><a href="../../../../../roki.log/2018/12/index.html">2018/12 (1)</a></li><li><a href="../../../../../roki.log/2018/10/index.html">2018/10 (2)</a></li><li><a href="../../../../../roki.log/2018/09/index.html">2018/09 (3)</a></li><li><a href="../../../../../roki.log/2018/08/index.html">2018/08 (3)</a></li><li><a href="../../../../../roki.log/2018/07/index.html">2018/07 (7)</a></li><li><a href="../../../../../roki.log/2018/06/index.html">2018/06 (5)</a></li><li><a href="../../../../../roki.log/2018/05/index.html">2018/05 (3)</a></li><li><a href="../../../../../roki.log/2018/04/index.html">2018/04 (3)</a></li><li><a href="../../../../../roki.log/2018/03/index.html">2018/03 (2)</a></li></ul></li></ul>
                </div>
            </div>
        </div>
    </div>
    
    <div class="content has-text-centered mt-3">
        
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5658861742931397" crossorigin="anonymous"></script><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-5658861742931397" data-ad-slot="7636558034"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><a href="https://haskell.jp/blog/posts/links.html#roki.dev/roki.log/" target="_blank" rel="nofollow noopener"><img width="234" class="mt-1" src="https://haskell.jp/img/supported-by-haskell-jp.svg" alt="Supported By Haskell-jp."></a>
        
        <div class="content has-text-centered">
    <small>copyright © 2016~ Roki All Rights Reserved.</small>
    <p>Site proudly generated by <a href="http://jaspervdj.be/hakyll" target="_blank" rel="nofollow noopener">Hakyll</a></p>
</div>

    </div>
</footer>


    </body>
</html>
